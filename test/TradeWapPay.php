<?php
/**
 * Created by PhpStorm.
 * User: shipSun
 * Date: 2018/1/12
 * Time: 15:48
 */
include '../vendor/autoload.php';
use payment\aop\TradeWapPay;

$config['appId'] = "2016101000651842";
$config['rsaPrivateKey'] = 'MIIEpAIBAAKCAQEA5+1Wp2dr/H7bCSBQco/ojMNIVuq0rdMxEk6YTVbYh5W+zg8+gBLZq/J7C7himt1LY+aar0d6S3FocXZ4rx5MVuUCR3nuDAaO70lxTcdn/QTRXJEo42VKU2LRV5qwv0Iu1heIaxILPJFxkCnG1xgLYhGDk7f0oqDJ1X2WPYk+zFX2j+2vPNwu86SY9KVel308CvwW6OePOTWd/L+byufYxtU74DP6BKi1rziQ8jJdLvcYw9DvOYWRVrWEQwFU3qX/Q+za5+ZeMram6lpoPz4es6VvgPBYxYGVZQXn0XZvgAv5cKhHpNMvrS8pMxJ7Zfj9XU04/oGZSGfjQ2RJKxR18QIDAQABAoIBADo3zo+5G1dHdK4myWroiuSCxK7kvbQAlonU5tBLI5FtWncZRoQZt0A9XvvDLiVXtWv/YAbtt1omvqP0rDixL1KEq/zLM6EbKFgSpHl0u7q8sd09pvjl3TFvVcNa1lE8SMt/HsRZxC5RCCO7COnHZFwar1+uRp9oIyIPI16RDA14cDI5DIkiCVGfwg01wGClb3Iw84K+MEgIajbltGGd8jdjAiEcyioqH5iKOwniF4NB1of8HUOI+nSZ9/llkCwIYaA9AAUEEDDn9xssL05LfGpZF0eTd71yttqJ/65jLIWJ0oMhtayl3WNp7ddA0z4hde7dvWpgr44v5F2aa8H5SF0CgYEA/6I1oz3KOu6qmGyw6Lg1BPJwHSX8wZrp6mzBXctQ6c9QzAYybhj+8I9+Nb/5HyWX3GChDDRPi6FuczUofR9TwNjkHh3kOmt5auZDFs/0z+PXxojh+d4AL15Sc+g6h8Iq5eTZF4o7P6k0OvZcG4y/7vcAYDbXt2ZmDU60NSmSyosCgYEA6EJuYhQ5hMrGn52KpksAMh8/XyYARwpL2moSQ+waBmWoPE9648feF08JhgD0TKCzaR0StJM8XxlglAtBaAHqUJWJvLYGuiXxd0l9gIwMCB55RswpVWnHM75TzygqmjgvqRN0TAftUnvIPkgvstqA5u5PxJhTCRF+VWlG4LGlHPMCgYEAx7D0C4gKQQ0NkLJfY/v51tp4AB0bnDWigvDgAKABnhPH/wjcPisig9Lj+aL0PYOFZK7LP5hhhybc+/xLm6psJ5qGYIxjK8um9n3XbKuYhwlqFnn5ZNIp/NbGvCpuBn0EO8AQYhYmgG1yEpk+jHrfuBGVZpOQ4YCJOd4AYgMO208CgYEAjKbuQecNjiVec3rsZBg3XiMeNXjF4j+SAAsMVKW+fPFDGILpYNfA30y177jUOTN4csdwdHpVrSGpIv5N9bZzN6nXZ7i0CjbALAUNQ7OL9b6+oukwftE4GVXBW0pvwkUUV8e4PfLu/WyIr273s9AvD6pyFBRK9MrrPr4qdhgebZECgYAIdf875ahvXEM7C5eQ+TtRPxfLHJCnZwxbpZm4Fj2BMqwXTzPcWVcdi+yvoexhYBNphiW/cS2ji188HTjxIQFoHzuQNDpIm8FI5HvJp8BE9JLmIS+5P+TQzmmhnQocTQcsBi3RZRPdgWItXN/zIRP2oosypbXbT5boSgVplHmk3Q==';
$config['gatewayUrl'] = 'https://openapi.alipaydev.com/gateway.do';
$config['alipayrsaPublicKe'] = 'MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAvadmlIi2XJ1UgLtZerG3gp0ZYehPrLdsFDjpMbC4M9iVddp7Kudbo7ZyJuVb/gEiTAGO8UErXMjuNnlpjGeTKU/SrtVJlEKjx9DtpJ53HWBxDC77GIfhQf1xjrG6e/z5xJTd+YfOsYTdSDeCNQaeKYZXQqO7mn1lBWekydyy8vCUeOGoLqOE+XLkKyvo1y3fE7SEwadtMZDjpW5kWHQIvFVDi/Bgbo+qLaLHaqG480qwzr0P3Xp3DNY47aAVtBnd7SvDDnnapaOZKcctniCwbhDf92rbtJw8BNc+GmQvkEhuxo0MIuOaXbgAZdn3dDZaNdNLFfG3095qFMLM1re0IwIDAQAB';
$config['signType'] = 'RSA2';

//$config['appId'] = '2016081500253580';
//$config['rsaPrivateKey'] = 'MIIEpQIBAAKCAQEA1fy6EnqFQjmrGjmkDzgZ5uIOguqCa1kuKCUxek1Uu3G7Go7U67Xox7sBEBoT2MQn3tbp9LOGg4df3LzIDsSvFxaGp8+YIPhT5QuznZyhkX76LFZtkGO7tiMU2a1IjH9HijfrzNRhYiTgdozoom//hi1YYwo9niTameTRR9sDYKGm6xKLU5HO4xf2D368PMdgoX4pBtMEAHH1DI0sH2BRO6NG1MKiI92Eez8cE/S3ZsPCnE9bElsRzmm4hm4UqM9AKTE6MRnKfmj4mZ0CnkMMn0Egl+0zO4EVEkvE3gA512C/1Jj3CgaNr4SXSAugfKSjnek2OD9fjDlKn+6ywk64pwIDAQABAoIBAQC6LL7LMvPb0YavM3UslJfci9MqTdQYh6ej3/AzQzK0PtgV3C0dws/7bhUXqEiaMNerhnpYnxUqPE7IIys/xhm70apoODJYhRWg0tR8DXl4t+v7RVrf5BW9+rm6RYw4SMi6Vbr/I8xycjkki6YfJahAWhVrXc6MV+4lNLJsfP1sRMFHNAzowHYlW6x6/Tqea95U26s1Hj4u9TFtx9o3W/LEjec2y8ufN6JT/f06JMmagYCEnKR0bXsKkCogzfdP+n64pCe+lIG6Be7Hf0AaD0x1T/vGEEYDIUR50Z/bJwRxgxWD8RSkb7GZdypz9BnIueKfEOcONV4mAYCy/742s0nhAoGBAOv1enFrtY+LpBIIb+BrZwKbFWnhjFnpg0GLRQb1evnw5ZAQUsLSHtDLl8odhsvIrYH+vDBCWrJeWBXer7SYJ+YQGNjDUVvk6xxTnUMVPIkvIbTbxLgkgVsB3S1kvMqd7cErcjdY9b2xmi82GRzp5EWqrFtGbzH8IFRnqJ+YpJuXAoGBAOgpgw2GHyiKAN54hhprdjqZCOm9myoPOxjDFQHUGdD/Uc3lMayZSH1DZ51IIQMtpm0ys1lt1748/ia9Id8lq8e5IwKyWn2XyFdrm/9D/nhRk72L8npdfIi9Vw/+F7qPSl33+ZMyM8qzxfWRZRRhny1l/i67QIgrIScDEF4jp61xAoGBAKn2tc8TPcH7XSCcMTIfSyEGYsNU80skuCYzUnJzyrRVAJboGyU4Q3g03s54vEr373tO6XF9qmUHLj36nOfiHgNLHwqsjmM6HtzVodbbajKK36WuFCJsMT1Dt3TmNlNgtQzK5cfWbZTJZH2TYz1/gK1qBiLtNlVz/jmuPTlQs2lbAoGBAL1msG3mD6FpBNB6jx0asneXxfe7Ic0sY9ANxyOYv/8LbNeGtgHTg5n91Zgw8g2/vliz1jGNNUcUR1ufTPTZrMzhszhN/RkdLOp09e1IsV/DXb5zX7yIbEK6BT8c0or2v3ruBQQbHrmt9EAk/8ui4NOOs9G4Hit41DEZhM7oU7FhAoGAehdDqITK2g+iNjbOJbEgZKIlrjW+AMM3AkDzqRVKRYlUh4dgIWt9DjNk/76rmADJn0BoryfCW9VevuwLfFUoU4GV4U7XMKOgC7YMgdLWKIHPiItZJoblbFTXO/zdqgWHic1Hqr66PWjzc41irdi1sx4pFC3+LJTXeVvv3vqQDFA=';
//$config['gatewayUrl'] = 'https://openapi.alipaydev.com/gateway.do';
//$config['alipayrsaPublicKe'] = 'MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAz0FigAbFDBb7v7LKaasv2gg/WBF17t6Ser1YN6T2aw05mLMrzMoOhR28CFrsa8/6c5LBZCInA6hZqRlM5WhFgxda4OkHMqiNH9wN6PTm4/h5BBHVWGw72gNj/Eoa2ArmrjY8jyBp40/LcK2MhmsKlmvNHQyG+y5A7Toal3/1x9eM/9S3IvQULDgPLOIdknqthUdHak3avgCwY0jqFRsJH393JLVWVXZN7pz9wRvSMl//dO2AcPgCzA9LmgJ2G3KBsMfn3r1jGZpiSAr2/HReQDQd9hZKjtWdKjbpdP6Pxi/PGiWhzILLraJJF0+O/r5hyblCToOEDcenPTWy80VZwwIDAQAB';
//$config['signType'] = 'RSA2';

$bizContent['out_trade_no'] = time();
$bizContent['subject'] = '测试';
$bizContent['total_amount'] = '10';
$bizContent['product_code'] = 'QUICK_MSECURITY_PAY';

$traderAppPay = new TradeWapPay();

$client = $traderAppPay->client('alipay', $config);
$client->request->setReturnUrl("asfasdf");
$data = $client->sdkExecute($bizContent);
var_dump($data);